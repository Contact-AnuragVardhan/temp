<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Date Picker Demo</title>
	<meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
	<style>
		body,html
		{
			margin:0px;
			padding:0px;
			height:100%;
			background:#FFFFFF;
		}
		.container
		{
			width:100%;
			height:40%;
			flex: 1 1 auto;
    		padding-left: 25px;
    		padding-top: 50px;
		}
		.calFooter
		{
			
		}
	</style>
	
	<link href="../lib/css/com/org/component.css" rel="stylesheet">
	<link href="../lib/css/com/org/nsCalendar.css" rel="stylesheet">
	<link href="../lib/css/com/org/nsDatePicker.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
	<link href="http://fontawesome.io/3.2.1/assets/font-awesome/css/font-awesome.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css">
	<script src="../lib/com/org/util/nsUtil.js"></script>
	<script src="../lib/com/org/util/nsDateUtil.js"></script>
	<script src="../lib/com/org/util/nsSVG.js"></script>
	<script src="../lib/com/org/prototype/base/nsContainerBase.js"></script>
	<script src="../lib/com/org/prototype/nsCalendar.js"></script>
	<script src="../lib/com/org/prototype/nsDatePicker.js"></script>
 </head>
 
<body onload="initialize()">
	<div class="container">
		<div style="display: inline-block;width:33%;">
			<p> Basic Date Picker</p>
			<div id="divSimple">
			</div>
			<div id="divSimpleSelectedDate" style="height:30px;">
			</div>
		</div>
		<div style="display: inline-block;width:33%;">
			<p>Date Picker with Min Max date</p>
			<div id="divMinMax">
			</div>
			<div id="divMinMaxSelectedDate" style="height:30px;">
			</div>
		</div>
		<div style="display: inline-block;width:33%;">
			<p>Calendar with Disabled Date (date less than today is disabled)</p>
			<div id="divCalDisabled">
			</div>
			<div id="divCalDisabledSelectedDate" style="height:30px;">
			</div>
		</div>
	</div>
	<div class="container">
		<div style="display: inline-block;width:33%;">
			<p>Date Picker with Disabled Textbox</p>
			<div id="divDisabledTextBox">
			</div>
			<div id="divDisabledTextBoxSelectedDate" style="height:30px;">
			</div>
		</div>
		<div style="display: inline-block;width:33%;">
			<p>Date Picker with Custom Button</p>
			<div id="divCustomButton">
			</div>
			<div id="divCustomButtonSelectedDate" style="height:30px;">
			</div>
		</div>
		<div style="display: inline-block;width:33%;">
			<p>Date Picker With Footer</p>
			<div id="divFooterCal">
			</div>
			<div id="divFooterCalSelectedDate" style="height:30px;">
			</div>
		</div>
	</div>
	
	
	<script>
		var util = null;
		function initialize()
		{
			util = new NSUtil();
			initailizeSimpleCal();
			initailizeMinMaxCal();
			initailizeDisabledCal();
			initailizeDisabledTextBox();
			initailizeCustomButton();
			initailizeFooterCal();
		}
		
		function initailizeSimpleCal()
		{
			var divSimple = document.querySelector("#divSimple");
			var nsDatePicker = new NSDatePicker(divSimple);
			util.addEvent(divSimple,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divSimpleCalSelectedDate = document.querySelector("#divSimpleSelectedDate");
						divSimpleCalSelectedDate.innerHTML = event.detail;
					});
		}
		
		function initailizeMinMaxCal()
		{
			var divMinMax = document.querySelector("#divMinMax");
			var minDate = "02/10/2007";
			var maxDate = "11/10/2020";
			var inputDateFormat = "MM/dd/yyyy";
			var setting = {inputDateFormat:inputDateFormat,minDate:minDate,maxDate:maxDate};
			var nsDatePicker = new NSDatePicker(divMinMax,setting);
			util.addEvent(divMinMax,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divMinMaxSelectedDate = document.querySelector("#divMinMaxSelectedDate");
						divMinMaxSelectedDate.innerHTML = event.detail;
					});
		}
		
		function initailizeDisabledCal()
		{
			var divCalDisabled = document.querySelector("#divCalDisabled");
			var setting = {markDayDisabled:function(date){
				var todayDate = new Date();
				if(date < todayDate)
				{
					return false;
				}
				return true;
			}};
			var nsDatePicker = new NSDatePicker(divCalDisabled,setting);
			util.addEvent(divCalDisabled,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divMinMaxSelectedDate = document.querySelector("#divMinMaxSelectedDate");
						divCalDisabledSelectedDate.innerHTML = event.detail;
					});
		}
		
		function initailizeDisabledTextBox()
		{
			var divDisabledTextBox = document.querySelector("#divDisabledTextBox");
			var setting = {enableTextBoxDisabled:true};
			var nsDatePicker = new NSDatePicker(divDisabledTextBox,setting);
			util.addEvent(divDisabledTextBox,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divDisabledTextBoxSelectedDate = document.querySelector("#divDisabledTextBoxSelectedDate");
						divDisabledTextBoxSelectedDate.innerHTML = event.detail;
					});
		}
		
		function initailizeCustomButton()
		{
			var divCustomButton = document.querySelector("#divCustomButton");
			var setting = {buttonHtml:"<i class='glyphicon glyphicon-calendar'></i>",placeHolder:"yyyy-mm-dd",dateOutputFormat:"yyyy-mm-dd"};
			var nsDatePicker = new NSDatePicker(divCustomButton,setting);
			util.addEvent(divCustomButton,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divCustomButtonSelectedDate = document.querySelector("#divCustomButtonSelectedDate");
						divCustomButtonSelectedDate.innerHTML = event.detail;
					});
		}
		
		function initailizeFooterCal()
		{
			var divFooterCal = document.querySelector("#divFooterCal");
			var divFooter = document.createElement("div");
			util.addStyleClass(divFooter,"calFooter");
			var span = document.createElement("span");
			util.addStyleClass(span,"btn-group pull-left");
			var btnToday = document.createElement("button");
			util.addStyleClass(btnToday,"btn btn-sm btn-info");
			btnToday.onclick = function(){
				nsDatePicker.setTodayDate();
			};
			/*btnToday.addEventListener("click",function(){
				nsDatePicker.setTodayDate();
			});*/
			btnToday.innerHTML = "Today";
			span.appendChild(btnToday);
			var btnClear = document.createElement("button");
			util.addStyleClass(btnClear,"btn btn-sm btn-danger");
			btnClear.addEventListener("click",function(){
				nsDatePicker.reset();
			});
			btnClear.innerHTML = "Clear";
			span.appendChild(btnClear);
			var btnClose = document.createElement("button");
			util.addStyleClass(btnClose,"btn btn-sm btn-success pull-right");
			btnClose.addEventListener("click",function(){
				nsDatePicker.closeCalendar();
			});
			btnClose.innerHTML = "Close";
			divFooter.appendChild(span);
			divFooter.appendChild(btnClose);
			var setting = {showFooter:true,footerContent:divFooter};
			var nsDatePicker = new NSDatePicker(divFooterCal,setting);
			util.addEvent(divFooterCal,NSDatePicker.DATE_SELECTED,function(event)
					{
						console.log(event.detail);
						var divFooterCalSelectedDate = document.querySelector("#divFooterCalSelectedDate");
						divFooterCalSelectedDate.innerHTML = event.detail;
					});
		}
	</script>
</body>
