$targDir = "C:\Temp\Anurag\Workspace\JSLib\src\main\webapp\package";
$subDir = $(Get-ChildItem "$targDir");
$arrComponent = @("nsUtil","nsContainerBase","nsSVG","nsPluggins","nsPinTip","nsConsole","nsDateUtil","nsGrid");

function isComponentExists
{
    $componentName = $args[0];
    foreach($comp in $arrComponent)
    {
        If ($componentName  -eq $comp)
        {
            return 1;
        }
    }
    return 0;
}

function uploadInNPM
{
    $componentName = $args[0];
    $path = -join($targDir,"\",$componentName);
    cd $path;
}

function log
{
    $message = $args[0];
    $message | Add-Content C:\Temp\npmPowerShell.txt
}

cd $targDir;

foreach($sub in $subDir) 
{
	$compName = $sub.Name;
    If (isComponentExists $compName -eq 1)
    {
        log $compName;
        uploadInNPM $compName;
    }
    cd $targDir;
}
